<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter Clone</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #000; color: #fff; }
        .app { display: flex; max-width: 1400px; margin: 0 auto; height: 100vh; }
        .sidebar { width: 275px; padding: 20px 0; border-right: 1px solid #333; }
        .sidebar nav { padding: 10px 20px; }
        .sidebar a { display: flex; align-items: center; color: #fff; text-decoration: none; padding: 12px; border-radius: 9999px; margin-bottom: 4px; font-size: 20px; }
        .sidebar a:hover { background: #333; }
        .sidebar a i { width: 30px; margin-right: 20px; font-size: 28px; }
        .feed { flex: 1; border-right: 1px solid #333; overflow-y: auto; }
        .compose { border-bottom: 1px solid #333; padding: 15px 20px; display: flex; }
        .compose-avatar { width: 48px; height: 48px; border-radius: 50%; background: #333; margin-right: 12px; }
        .compose-input { flex: 1; background: none; border: none; color: #fff; font-size: 20px; outline: none; }
        .compose-actions { display: flex; gap: 15px; }
        .compose-actions button { background: none; border: none; color: #1d9bf0; font-size: 16px; cursor: pointer; }
        .tweets { padding: 0 20px; }
        .tweet { padding: 16px 0; border-bottom: 1px solid #333; display: flex; }
        .tweet-avatar { width: 48px; height: 48px; border-radius: 50%; background: #333; margin-right: 12px; }
        .tweet-content { flex: 1; }
        .tweet-header { display: flex; align-items: center; gap: 4px; margin-bottom: 4px; }
        .tweet-header strong { font-size: 15px; }
        .tweet-header span { color: #71767b; font-size: 15px; }
        .tweet-text { font-size: 20px; line-height: 28px; margin-bottom: 12px; }
        .tweet-actions { display: flex; gap: 25px; color: #71767b; font-size: 13px; }
        .tweet-actions button { background: none; border: none; display: flex; align-items: center; gap: 4px; cursor: pointer; padding: 8px 0; border-radius: 9999px; }
        .tweet-actions button:hover { background: #333; color: #fff; }
        .tweet-actions [data-count]:after { content: attr(data-count); margin-left: 4px; }
        .search-bar { position: sticky; top: 0; background: #000; padding: 15px 20px; z-index: 10; }
        .search-input { width: 100%; background: #333; border: none; border-radius: 9999px; padding: 12px 16px; color: #fff; font-size: 15px; outline: none; }
        .trends { width: 350px; padding: 20px; }
        .trend-item { padding: 12px 16px; border-radius: 8px; margin-bottom: 8px; cursor: pointer; }
        .trend-item:hover { background: #333; }
        .trend-hash { color: #71767b; font-size: 15px; }
        .trend-name { font-weight: 500; font-size: 17px; }
        @media (max-width: 1060px) { .trends { display: none; } }
        @media (max-width: 680px) { .sidebar { width: 60px; } .sidebar a span { display: none; } .feed { padding: 0 10px; } }
        .hidden { display: none; }
        .modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 100; }
        .modal-content { background: #000; padding: 32px; border-radius: 20px; width: 90%; max-width: 400px; border: 1px solid #333; }
        .modal h2 { margin-bottom: 20px; }
        .modal input, .modal textarea { width: 100%; background: #333; border: none; border-radius: 9999px; padding: 12px 16px; color: #fff; margin-bottom: 16px; font-size: 15px; }
        .modal textarea { border-radius: 12px; height: 120px; resize: none; }
        .modal button { width: 100%; background: #1d9bf0; color: #fff; border: none; border-radius: 9999px; padding: 12px; font-weight: 500; cursor: pointer; }
    </style>
</head>
<body>
    <div class="app">
        <nav class="sidebar">
            <a href="#" data-page="home"><i class="fab fa-twitter"></i><span>Home</span></a>
            <a href="#" data-page="search"><i class="fas fa-hashtag"></i><span>Explore</span></a>
            <a href="#" data-page="notifications"><i class="fas fa-bell"></i><span>Notifications</span></a>
            <a href="#" data-page="messages"><i class="fas fa-envelope"></i><span>Messages</span></a>
            <a href="#" data-page="profile"><i class="fas fa-user"></i><span>Profile</span></a>
            <button onclick="showModal('login')"><i class="fas fa-plus"></i><span>Tweet</span></button>
        </nav>
        <main class="feed" id="feed">
            <div class="search-bar">
                <input type="text" class="search-input" id="searchInput" placeholder="Search Twitter">
            </div>
            <div class="compose">
                <div class="compose-avatar"></div>
                <input type="text" class="compose-input" id="newTweet" placeholder="What's happening?">
                <div class="compose-actions">
                    <button><i class="fas fa-image"></i></button>
                    <button onclick="postTweet()"><i class="fas fa-feather-alt"></i> Tweet</button>
                </div>
            </div>
            <div class="tweets" id="tweets"></div>
        </main>
        <aside class="trends">
            <h3>Trends for you</h3>
            <div class="trend-item"><div class="trend-hash">#JavaScript</div><div class="trend-name">1.2K posts</div></div>
            <div class="trend-item"><div class="trend-hash">#WebDev</div><div class="trend-name">890 posts</div></div>
            <div class="trend-item"><div class="trend-hash">#Frontend</div><div class="trend-name">650 posts</div></div>
        </aside>
    </div>

    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="modalTitle">Login</h2>
            <input type="text" id="username" placeholder="Username">
            <input type="email" id="email" placeholder="Email">
            <button onclick="handleModal()">Continue</button>
        </div>
    </div>

    <script>
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let tweets = JSON.parse(localStorage.getItem('tweets')) || [
            {id: 1, user: 'DevUser', handle: '@devuser', text: 'Welcome to this Twitter clone! Post, like, comment ðŸš€ #WebDev', likes: 5, comments: 2, time: Date.now()},
            {id: 2, user: 'FrontendPro', handle: '@frontendpro', text: 'Building interactive apps with HTML/CSS/JS is fun! Try it out.', likes: 3, comments: 1, time: Date.now() - 3600000}
        ];
        let users = JSON.parse(localStorage.getItem('users')) || [{name: 'DevUser', handle: '@devuser'}];

        if (!currentUser) showModal('login');

        function showModal(type) {
            const modal = document.getElementById('modal');
            document.getElementById('modalTitle').textContent = type === 'login' ? 'Sign in to Twitter' : 'New Tweet';
            document.getElementById('username').value = '';
            document.getElementById('email').value = '';
            modal.classList.remove('hidden');
        }

        function handleModal() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            if (!username || !email) return alert('Please fill all fields');
            currentUser = {name: username, handle: '@' + username.toLowerCase(), email};
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            users.push(currentUser);
            localStorage.setItem('users', JSON.stringify(users));
            document.getElementById('modal').classList.add('hidden');
            renderTweets();
        }

        function postTweet() {
            const text = document.getElementById('newTweet').value.trim();
            if (!text || text.length > 280 || !currentUser) return;
            const tweet = {id: Date.now(), user: currentUser.name, handle: currentUser.handle, text, likes: 0, comments: 0, time: Date.now()};
            tweets.unshift(tweet);
            localStorage.setItem('tweets', JSON.stringify(tweets));
            document.getElementById('newTweet').value = '';
            renderTweets();
        }

        function likeTweet(id) {
            const tweet = tweets.find(t => t.id === id);
            tweet.likes++;
            localStorage.setItem('tweets', JSON.stringify(tweets));
            renderTweets();
        }

        function addComment(id) {
            const comment = prompt('Add comment:');
            if (comment) {
                // Simulate comment addition
                const tweet = tweets.find(t => t.id === id);
                tweet.comments++;
                localStorage.setItem('tweets', JSON.stringify(tweets));
                renderTweets();
            }
        }

        function renderTweets(filter = '') {
            const container = document.getElementById('tweets');
            const filtered = tweets.filter(t => !filter || t.text.toLowerCase().includes(filter.toLowerCase()));
            container.innerHTML = filtered.map(tweet => `
                <div class="tweet">
                    <div class="tweet-avatar"></div>
                    <div class="tweet-content">
                        <div class="tweet-header">
                            <strong>${tweet.user}</strong>
                            <span>${tweet.handle}</span>
                            <span>Â· ${new Date(tweet.time).toLocaleString()}</span>
                        </div>
                        <div class="tweet-text">${tweet.text}</div>
                        <div class="tweet-actions">
                            <button onclick="addComment(${tweet.id})"><i class="fas fa-comment"></i><span data-count="${tweet.comments}">Comment</span></button>
                            <button onclick="likeTweet(${tweet.id})"><i class="fas fa-heart"></i><span data-count="${tweet.likes}">Like</span></button>
                            <button><i class="fas fa-retweet"></i><span data-count="0">Retweet</span></button>
                            <button><i class="fas fa-share"></i><span>Share</span></button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        document.getElementById('searchInput').addEventListener('input', (e) => renderTweets(e.target.value));
        document.getElementById('newTweet').addEventListener('keypress', (e) => { if (e.key === 'Enter' && !e.shiftKey) postTweet(); });

        // Sidebar navigation (simulated pages)
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                // Switch pages by data-page, but for single file, just log/alert
                alert(`Navigating to ${link.dataset.page}`);
            });
        });

        // Follow simulation
        function followUser(handle) {
            alert(`Followed ${handle}`);
        }

        renderTweets(); // Initial render
    </script>
</body>
</html>
